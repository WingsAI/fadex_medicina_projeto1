# ğŸ¤– InstruÃ§Ãµes para o Claude - Projeto SNPQIM (WingsAI)

## ğŸŒ Idioma e ComunicaÃ§Ã£o

**IMPORTANTE**: Todas as respostas devem ser em **PortuguÃªs do Brasil (pt-BR)**.

- Use termos tÃ©cnicos em portuguÃªs quando possÃ­vel
- Mantenha termos tÃ©cnicos em inglÃªs apenas quando consagrados (ex: API, Docker, Machine Learning)
- Use formataÃ§Ã£o clara com emojis para melhor visualizaÃ§Ã£o
- Seja objetivo e direto nas respostas

## ğŸ“‹ Contexto do Projeto

Este Ã© o **SNPQIM** (Sistema Nacional para PadronizaÃ§Ã£o da Qualidade de Imagens MÃ©dicas), alimentado pela tecnologia **WingsAI**.

### InformaÃ§Ãµes Importantes:
- **Nome do sistema**: SNPQIM
- **Tecnologia core**: WingsAI (antigo FADEX - jÃ¡ migrado)
- **Objetivo**: AnÃ¡lise automatizada de qualidade de imagens mÃ©dicas oftalmolÃ³gicas
- **Score**: Sistema de pontuaÃ§Ã£o 0-100 para qualidade de imagens
- **DomÃ­nio**: SaÃºde / Oftalmologia / Machine Learning

## ğŸ—ï¸ Arquitetura do Sistema

### Backend
- **Framework**: FastAPI (Python 3.10+)
- **Core Engine**: [src/ml/scoring/wingsai_core.py](src/ml/scoring/wingsai_core.py)
- **API**: [src/backend/main.py](src/backend/main.py)
- **Porta**: 8000

### Frontend
- **WebApp Moderno**: Next.js 14 + TypeScript + Tailwind CSS (pasta `webapp/`)
- **Interface Simples**: HTML puro ([src/frontend/index.html](src/frontend/index.html))
- **Porta WebApp**: 3000

### Testes
- **Scripts**: [scripts/test_wingsai.py](scripts/test_wingsai.py)
- **Testes UnitÃ¡rios**: [tests/test_wingsai_core.py](tests/test_wingsai_core.py)

## ğŸ“ Estrutura de Pastas

```
fadex_medicina_projeto1/
â”œâ”€â”€ docs/              # Toda documentaÃ§Ã£o centralizada aqui
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ backend/       # API FastAPI
â”‚   â”œâ”€â”€ frontend/      # Interface HTML simples
â”‚   â””â”€â”€ ml/scoring/    # Algoritmo WingsAI core
â”œâ”€â”€ webapp/            # AplicaÃ§Ã£o Next.js moderna
â”œâ”€â”€ scripts/           # Scripts utilitÃ¡rios e testes
â””â”€â”€ tests/             # Testes automatizados
```

## ğŸ¯ ConvenÃ§Ãµes de CÃ³digo

### Python
- **Style Guide**: PEP 8
- **Imports**: Sempre usar caminhos relativos a partir de `src/`
- **Classes**: PascalCase (ex: `WingsAIQualityAnalyzer`)
- **FunÃ§Ãµes**: snake_case (ex: `analyze_image_quality`)
- **Constantes**: UPPER_CASE (ex: `MAX_IMAGE_SIZE`)

### Nomes Importantes
- âœ… **Usar**: `WingsAI`, `wingsai_core`, `WingsAIScore`
- âŒ **NÃƒO usar**: `FADEX`, `fadex_core` (nome antigo, jÃ¡ migrado)

### JavaScript/TypeScript (WebApp)
- **Style Guide**: ESLint + Prettier
- **Componentes**: PascalCase (ex: `DNAVisualization`)
- **FunÃ§Ãµes**: camelCase (ex: `analyzeImage`)
- **Arquivos**: kebab-case ou PascalCase conforme convenÃ§Ã£o Next.js

## ğŸ”§ Comandos Importantes

### Desenvolvimento
```bash
# Backend
python src/backend/main.py

# WebApp
cd webapp && npm run dev

# Testes
python scripts/test_wingsai.py examples/
pytest tests/
```

### Docker
```bash
docker-compose up          # Subir todos serviÃ§os
docker-compose up backend  # Apenas backend
docker-compose down        # Parar serviÃ§os
```

### Git
```bash
# Sempre descrever mudanÃ§as em portuguÃªs
git commit -m "Adiciona funcionalidade X"
git commit -m "Corrige bug Y"
git commit -m "Atualiza documentaÃ§Ã£o Z"
```

## ğŸ“ Diretrizes para ModificaÃ§Ãµes

### Ao Adicionar Funcionalidades:
1. Atualizar documentaÃ§Ã£o relevante em `docs/`
2. Adicionar testes para novas funcionalidades
3. Manter consistÃªncia com arquitetura existente
4. Seguir padrÃµes de nomenclatura do projeto

### Ao Corrigir Bugs:
1. Identificar causa raiz
2. Criar teste que reproduz o bug (se aplicÃ¡vel)
3. Implementar correÃ§Ã£o
4. Verificar que teste passa
5. Documentar mudanÃ§a

### Ao Refatorar:
1. Manter compatibilidade com cÃ³digo existente
2. Atualizar todos imports afetados
3. Atualizar documentaÃ§Ã£o
4. Rodar todos testes para garantir que nada quebrou

## ğŸš¨ Pontos de AtenÃ§Ã£o

### Imports
- Backend sempre deve importar: `from ml.scoring.wingsai_core import ...`
- Nunca usar `fadex_core` (nome antigo)
- Adicionar `src/` ao `sys.path` quando necessÃ¡rio

### Paths
- Sempre usar paths absolutos ou relativos Ã  raiz do projeto
- NÃ£o assumir diretÃ³rio de trabalho especÃ­fico

### DocumentaÃ§Ã£o
- Toda documentaÃ§Ã£o principal vai em `docs/`
- README.md na raiz deve ser conciso e linkar para docs/
- Manter `docs/COMO_USAR.md` atualizado com qualquer mudanÃ§a de uso

### Dados MÃ©dicos
- NUNCA commitar imagens mÃ©dicas reais
- Usar apenas imagens sintÃ©ticas para testes
- Respeitar LGPD e privacidade de dados de saÃºde

## ğŸ¨ Estilo de DocumentaÃ§Ã£o

### TÃ­tulos
- Usar emojis relevantes: ğŸš€ ğŸ”§ ğŸ“Š ğŸ¥ ğŸ§ª etc.
- Ser descritivo mas conciso

### Exemplos de CÃ³digo
- Sempre incluir comentÃ¡rios explicativos em portuguÃªs
- Mostrar input e output esperado quando relevante
- Usar blocos de cÃ³digo com syntax highlighting

### Mensagens de Log
```python
# âœ… BOM - Mensagens claras e informativas
logger.info("âœ… MÃ³dulo wingsai_core importado com sucesso")
logger.error("âŒ Erro ao processar imagem: arquivo invÃ¡lido")

# âŒ RUIM - Mensagens vagas
logger.info("OK")
logger.error("Error")
```

## ğŸ” Debugging

### Problemas Comuns

**Erro de Import:**
```
ModuleNotFoundError: No module named 'ml'
```
**SoluÃ§Ã£o**: Executar de raiz do projeto, nÃ£o de subpastas

**Erro de Porta em Uso:**
```
Address already in use: 8000
```
**SoluÃ§Ã£o**: Verificar se backend jÃ¡ estÃ¡ rodando ou usar porta alternativa

**NumPy IncompatÃ­vel:**
```
SoluÃ§Ã£o: pip install "numpy<2"
```

## ğŸ“š Recursos de ReferÃªncia

- [PRD Completo](docs/PRD_SNPQIM.md) - EspecificaÃ§Ãµes do produto
- [Como Usar](docs/COMO_USAR.md) - Guia completo de uso
- [Setup RÃ¡pido](docs/SETUP_RAPIDO.md) - InstalaÃ§Ã£o rÃ¡pida
- [Troubleshooting](docs/TROUBLESHOOTING.md) - ResoluÃ§Ã£o de problemas
- [VersÃµes](docs/VERSOES.md) - Diferentes versÃµes do sistema

## ğŸ¤ InteraÃ§Ã£o com UsuÃ¡rio

### Tom de ComunicaÃ§Ã£o
- Profissional mas acessÃ­vel
- Explicar conceitos tÃ©cnicos de forma clara
- Usar analogias quando ajudar na compreensÃ£o
- Ser paciente com dÃºvidas repetidas

### Formato de Respostas
1. **Resumo rÃ¡pido** da soluÃ§Ã£o (2-3 linhas)
2. **ExplicaÃ§Ã£o detalhada** se necessÃ¡rio
3. **CÃ³digo/Comandos** quando aplicÃ¡vel
4. **Links** para documentaÃ§Ã£o relevante
5. **PrÃ³ximos passos** se houver

### Quando NÃ£o Souber
- Ser honesto sobre limitaÃ§Ãµes
- Sugerir onde procurar a informaÃ§Ã£o
- Oferecer alternativas quando possÃ­vel

## ğŸ“ Conhecimento do DomÃ­nio

### Termos MÃ©dicos
- **Fundoscopia**: Exame do fundo do olho (retina)
- **OCT**: Tomografia de CoerÃªncia Ã“ptica
- **Angiografia**: Exame de vasos sanguÃ­neos
- **DICOM**: PadrÃ£o para imagens mÃ©dicas digitais

### MÃ©tricas de Qualidade
- **Nitidez (Sharpness)**: DefiniÃ§Ã£o de bordas
- **ExposiÃ§Ã£o (Exposure)**: Brilho adequado
- **Contraste**: DiferenciaÃ§Ã£o entre regiÃµes
- **RuÃ­do (Noise)**: Granularidade indesejada
- **Artefatos (Artifacts)**: DistorÃ§Ãµes na imagem

### Categorias de Score
- **90-100**: Excelente - Adequada para ML avanÃ§ado
- **70-89**: Boa - Adequada para diagnÃ³stico clÃ­nico
- **50-69**: Regular - Adequada apenas para triagem
- **0-49**: Inadequada - Necessita reexame

## ğŸš€ Prioridades ao Ajudar

1. **Funcionalidade** - Sistema deve funcionar corretamente
2. **Clareza** - CÃ³digo e documentaÃ§Ã£o devem ser compreensÃ­veis
3. **Manutenibilidade** - CÃ³digo fÃ¡cil de manter e modificar
4. **Performance** - Otimizar quando relevante, nÃ£o prematuramente
5. **ExperiÃªncia do UsuÃ¡rio** - Interface intuitiva e mensagens claras

---

**Ãšltima AtualizaÃ§Ã£o**: Outubro 2025
**VersÃ£o**: 1.0
**Status**: Ativo

ğŸ’¡ **Dica**: Este arquivo deve ser atualizado conforme o projeto evolui!
